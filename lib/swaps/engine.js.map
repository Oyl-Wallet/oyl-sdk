{"version":3,"file":"engine.js","sourceRoot":"","sources":["../../src/swaps/engine.ts"],"names":[],"mappings":"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"}